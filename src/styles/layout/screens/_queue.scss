//////////////////
// Player Screen
/////////////////
.queue {
    width: 100%;

    $button-width: 24px;
    $button-margin-right: 4px;
    $field-margin: 15px;

    // Search bar
    &__add {
        display: flex;
        justify-content: center;
        align-items: center;

        width: 100%;

        // Text field
        .field {
            margin: $field-margin;
            min-width: 350px;
            width: 60%;

            // duplicated on the preview container
            @include media("<=phone") {
                min-width: calc(100% - #{$button-width} - 2 * #{$field-margin} - #{$button-margin-right});
            }
        }

        // Search clear button
        .button--clear {
            cursor: pointer;
            margin-right: $button-margin-right;
            width: $button-width;
        }
    }

    // Search chooser
    &__preview {
        width: 100%;
        position: relative;

        // Preview table container
        .tablecontainer {
            // Makes sure the table is centered with the text box
            width: 60%;
            @include media("<=phone") {
                width: calc(100% - #{$button-width} - 2 * #{$field-margin} - #{$button-margin-right});
            }

            pointer-events: none;

            position: absolute;
            left: 50%;
            // Originally, the TextField bottom margin is 15px, so we go up 15px + 1px to make the table appear directly below
            top: -16px;

            display: flex;
        }

        // The actual table element containing search results
        table {
            position: relative;

            pointer-events: all;
            user-select: none;

            // half of the clear icon + margin, this adjusts the table to be flush with the text input
            left: calc(-50% - #{$button-width} / 2 - #{$button-margin-right} / 2);

            // Color customization (mostly table borders)
            background: darken($background, 2%);
            $border-color: lighten($secondary-color, 10);

            tr {
                border-left-color: $border-color;
                border-right-color: $border-color;

                td, th {
                    border-bottom: none;
                }
            }

            thead {
                border-bottom: 1px solid transparentize(lighten($dark-color, 10), 0.45);
            }
            tbody tr:not(:last-of-type) {
                border-bottom: 1px solid transparentize(lighten($dark-color, 15), 0.8)
            }
        }

        // An overlay which is applied over every search result
        .overlay {
            display: none;
            position: absolute;

            opacity: 0;
            pointer-events: all;

            &.visible {
                display: flex;
                opacity: 1;
            }
            justify-content: center;
            align-items: center;

            // Fixed table row height by Material-UI
            height: 48px;
            width: 100%;
            left: 0;
            cursor: pointer;

            transition: .3s ease-in-out;
            background: transparentize($secondary-color, 0.4);
        }
    }

    &__button {
        position: relative;
    }
}